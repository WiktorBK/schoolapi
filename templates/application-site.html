{% extends 'base.html' %}

{% block content %}
<style>
  .parent {
display: grid;
grid-template-columns: repeat(2, 1fr);
grid-column-gap: 23px;
grid-row-gap: 35px;
}
   body{
    color: #1a202c;
    text-align: left;
<<<<<<< HEAD
    background-color: #e5e5e5;    
=======
     background-color: #e5e5e5;    
>>>>>>> temp
     }

#add{
    display: flex;
    float: left;
}
a{
  text-decoration: none;
  color: black;
  transition: 0.3s;
}    
a:hover{
  opacity: 0.75;
  color:black;
}
#arrowback{
    display:inline-block;
}
#output1, #output2{
    font-size: 30px;
    font-weight: 400;
}

</style>
{% for message in get_flashed_messages() %}
	
	<div class="alert alert-success alert-dismissible fade show" role="alert">
	  {{ message }}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>

	
{% endfor %}

<div id="icons">
  <a href="{{url_for('admin')}}" id="arrowback"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H6M12 5l-7 7 7 7"/></svg></a>
  </div><br/>
<br/>
<body onload="load()">
<div class="parent">
  <a href="{{url_for('applications')}}">
  <div class="card text-center" style="height:250px;">
    <div class="card-body">
      <h1 style="margin-top:30px;"class="card-title">New Applications</h1>
    </div>
    <div class="card-footer" id="output1" style="height:70px;"></div>
  </div>
  </a>
  <a href="{{url_for('applications_old')}}">
    <div class="card text-center" style="height:250px;">
      <div class="card-body">
        <h1 style="margin-top:30px;"class="card-title">Old Applications</h1>
      </div>
      <div class="card-footer" id="output2" style="height:70px;"></div>
    </div>
    </a>

</div>

<script>
    function countTo(obj, from, to){
    let step = to > from ? 1 : -1;
    let interval = 50;

    if(from == to){
        obj = from;
        return;
    }

    let counter = setInterval(function(){
        from += step;
        obj.textContent = from;

        if(from == to){
            clearInterval(counter);
        }
    }, interval);
}


let text1 = document.querySelector("#output1")
let text2 = document.querySelector("#output2")


text1.textContent = "0"
text2.textContent = "0"

fetch('/get_data')
  .then((response) => response.json())
  .then((data) => {
    countTo(text1, 0, data.active_applications)
    countTo(text2, 0, data.old_applications)
        
  })


 </script>

</body>


{% endblock %}